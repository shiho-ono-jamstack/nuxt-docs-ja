---
navigation.icon: uil:check-circle
---

# Testing

How to test your Nuxt application.

> [!WARNING]  
> Test utils are still in development and the API and behavior may change. Currently, it is in preview stage but not yet ready for testing production apps.
> If you are a module author, you can find more specific information in the [Module Author's guide](/docs/guide/going-further/modules#testing)

テスト ユーティリティはまだ開発中であり、API と動作は変更される可能性があります。 現在、プレビュー段階にありますが、まだ本番アプリをテストする準備ができていません。
モジュール作成者の場合は、[モジュール作成者ガイド](/docs/guide/getting-further/modules#testing) でより具体的な情報を見つけることができます。

In Nuxt 3, we have a rewritten version of `@nuxt/test-utils`. We support [Vitest](https://github.com/vitest-dev/vitest) and [Jest](https://jestjs.io/) as test runners.

Nuxt 3 には、`@nuxt/test-utils` の書き換えられたバージョンがあります。 [Vitest](https://github.com/vitest-dev/vitest) と [Jest](https://jestjs.io/) をテストランナーとしてサポートしています。

## Installation

```bash
yarn add --dev @nuxt/test-utils vitest
```

## Setup

> In each `describe` block where you are taking advantage of the `@nuxt/test-utils` helper methods, you will need to set up the test context before beginning.

`@nuxt/test-utils` ヘルパー メソッドを利用している各 `describe` ブロックでは、開始する前にテスト コンテキストを設定する必要があります。

```ts
import { describe, test } from 'vitest'
import { setup, $fetch } from '@nuxt/test-utils'

describe('My test', async () => {
  await setup({
    // test context options
  })

  test('my test', () => {
    // ...
  })
})
```

> Behind the scenes, `setup` performs a number of tasks in `beforeAll`, `beforeEach`, `afterEach` and `afterAll` to set up the Nuxt test environment correctly.

`setup` はバックグラウンドで、`beforeAll`、`beforeEach`、`afterEach`、および `afterAll` で多数のタスクを実行し、Nuxt テスト環境を正しくセットアップします。

## Options

### Nuxt Configuration

#### `rootDir`

> Path to a directory with a Nuxt app to be put under test.

テスト対象の Nuxt アプリが含まれるディレクトリへのパス。

* Type: `string`
* Default: `'.'`

#### `configFile`

> Name of the configuration file.

構成ファイルの名前。

* Type: `string`
* Default: `'nuxt.config'`

<!--
#### config

Object with configuration overrides.

* Type: `NuxtConfig`
* Default: `{}` -->

### Setup Timings

#### `setupTimeout`

> The amount of time (in milliseconds) to allow for `setupTest` to complete its work (which could include building or generating files for a Nuxt application, depending on the options that are passed).

「setupTest」がその作業を完了するのに許容される時間 (ミリ秒単位) (渡されたオプションに応じて、Nuxt アプリケーションのファイルのビルドまたは生成が含まれる場合があります)。

* Type: `number`
* Default: `60000`

### Features to Enable

#### `server`

> Whether to launch a server to respond to requests in the test suite.

テスト スイート[^1]内のリクエストに応答するためにサーバーを起動するかどうか。

[^1]: 特定のテストサイクルで実行されるテストケースやテスト手順のセット

* Type: `boolean`
* Default: `true`

#### `port`

> If provided, set the launched test server port to the value.

指定されている場合は、起動されたテスト サーバーのポートをその値に設定します。

* Type: `number | undefined`
* Default: `undefined`

#### `build`

別のビルドステップを実行するかどうか。

> Whether to run a separate build step.

* Type: `boolean`
* Default: `true` (`false` if `browser` or `server` is disabled)

#### `browser`

> Under the hood, Nuxt test utils uses [`playwright`](https://playwright.dev/) to carry out browser testing. If this option is set, a browser will be launched and can be controlled in the subsequent test suite. (More info can be found [here](/docs/getting-started/testing).)

内部では、Nuxt テスト ユーティリティは [`playwright`](https://playwright.dev/) を使用してブラウザー テストを実行します。 このオプションが設定されている場合、ブラウザが起動され、後続のテスト スイートで制御できるようになります。 (詳細については、[ここ](/docs/getting-started/testing) を参照してください。)

* Type: `boolean`
* Default: `false`

#### `browserOptions`

* Type: `object` with the following properties
  * **type**: The type of browser to launch - either `chromium`, `firefox` or `webkit`
  * **launch**: `object` of options that will be passed to playwright when launching the browser. See [full API reference](https://playwright.dev/docs/api/class-browsertype#browser-type-launch).

#### `runner`

> Specify the runner for the test suite. Currently, [Vitest](https://vitest.dev/) is recommended.

テスト スイートのランナーを指定します。 現時点では[Vitest](https://vitest.dev/)が推奨されています。

* Type: `'vitest' | 'jest'`
* Default: `'vitest'`

## APIs

### APIs for Rendering Testing

#### `$fetch(url)`

> Get the HTML of a server-rendered page.

サーバーでレンダリングされたページの HTML を取得します。

```ts
import { $fetch } from '@nuxt/test-utils'

const html = await $fetch('/')
```

#### `fetch(url)`

> Get the response of a server-rendered page.

サーバーでレンダリングされたページの応答を取得します。

```ts
import { fetch } from '@nuxt/test-utils'

const res = await fetch('/')
const { body, headers } = res
```

#### `url(path)`

> Get the full URL for a given page (including the port the test server is running on.)

特定のページの完全な URL を取得します (テスト サーバーが実行されているポートを含む)。

```ts
import { url } from '@nuxt/test-utils'

const pageUrl = url('/page')
// 'http://localhost:6840/page'
```

## Testing in a Browser

> [!IMPORTANT] 
> We are working on it, stay tuned!

現在取り組んでいますので、楽しみにお待ちください！
